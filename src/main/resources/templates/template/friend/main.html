<!doptype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<th:block th:include="/fragments/header :: header"></th:block>
<body>
<th:block th:include="/fragments/nav :: nav"></th:block>
<a class="btn btn-primary" href="/friend/request/create" role="button">Create New Request</a>

<h5>Friends</h5>
<div class="list-group">
    <th:block th:each="friend : ${friendList}">
        <a th:href="@{/friend/{id}/project(id=${friend.id})}" class="list-group-item list-group-item-action" aria-current="true">
            <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1" th:text="${friend.loginId}"></h5>
                <small>3 days ago</small>
            </div>
            <p class="mb-1"></p>
            <small>And some small print.</small>
        </a>
    </th:block>
</div>
<h5>Friend Requests</h5>
<h6>Sent</h6>
<div class="list-group">
    <th:block th:each="friendRequest : ${sentFriendRequestList}">
<!--        <a th:href="@{/friend/{id}/(id=${friendRequest.requestedMember.id})}" class="list-group-item list-group-item-action" aria-current="true">-->
        <a class="list-group-item list-group-item-action" aria-current="true">
        <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1" th:text="${friendRequest.requestedMember.loginId}"></h5>
                <small th:text="${friendRequest.requestStatus}"></small>
            </div>
<!--            <p class="mb-1"></p>-->
<!--            <small>And some small print.</small>-->
        </a>
    </th:block>
</div>
<h6>Posted</h6>
<th:block th:each="friendRequest : ${postedFriendRequestList}">
    <!--        <a th:href="@{/friend/{id}/(id=${friendRequest.requestedMember.id})}" class="list-group-item list-group-item-action" aria-current="true">-->
    <div class="list-group-item list-group-item-action" aria-current="true">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1" th:text="${friendRequest.requester.loginId}"></h5>
            <button type="submit" class="btn btn-primary sentFriendRequestAccept" th:data-request-id="${friendRequest.id}">accept</button>
            <button type="submit" class="btn btn-danger sentFriendRequestReject" th:data-request-id="${friendRequest.id}">reject</button>
        </div>
        <!--            <p class="mb-1"></p>-->
        <!--            <small>And some small print.</small>-->
    </div>
</th:block>


</body>
<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
<script src="/js/app.js"></script>
</html>
